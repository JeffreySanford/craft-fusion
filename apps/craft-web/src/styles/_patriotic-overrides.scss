// Vibrant Patriotic Colors Overrides

// Enhanced vibrant color variables
$vibrant-navy: #0033a0; // More saturated navy blue
$vibrant-red: #e40032; // Brighter, more vivid red
$vibrant-gold: #ffcc01; // More vibrant gold
$pure-white: #fff; // Pure white for maximum contrast

// Brighten specific colors for dark theme
$dark-navy-glow: #3a78ff; // Glowing blue for dark mode
$dark-red-glow: #ff3b5c; // Glowing red for dark mode
$dark-gold-glow: #ffdc4e; // Glowing gold for dark mode

@mixin apply-patriotic-colors() {
  // Core elements with vibrant patriotic styling
  .header-card,
  .enhanced-panel,
  .sidebar,
  .main-stage {
    border: none;
    box-shadow: 0 0 15px rgb(0 0 0 / 40%);
    color: $pure-white;
  }

  // Enhanced gradients with more vibrant colors
  :root,
  .light-theme,
  [data-theme="light"] {
    // Vibrant light mode gradients
    --vibrant-header-gradient: linear-gradient(135deg, $vibrant-navy 0%, #0046cc 30%, #c80028 70%, $vibrant-red 100%);
    --vibrant-menu-gradient: linear-gradient(135deg, rgb(0 51 160 / 97%) 0%, rgb(228 0 50 / 97%) 50%, rgb(0 51 160 / 97%) 100%);

    // Override primary colors with more vibrant versions
    --md-sys-color-primary: #{$vibrant-navy};
    --md-sys-color-secondary: #{$vibrant-red};
    --md-sys-color-tertiary: #{$vibrant-gold};
    --md-sys-color-on-primary: #fff;

    // Shared background gradients for core components
    --sidebar-gradient: var(--vibrant-header-gradient);
    --dashboard-gradient: linear-gradient(135deg, rgb(0 51 160 / 15%) 0%, rgb(228 0 50 / 15%) 100%);
  }

  // Dark theme gets even more vibrant with glow effects
  .dark-theme,
  [data-theme="dark"] {
    // Vibrant dark mode gradients with glow effect
    --vibrant-header-gradient: linear-gradient(135deg, #001e60 0%, $dark-navy-glow 30%, $dark-red-glow 70%, #b3002a 100%);
    --vibrant-menu-gradient: linear-gradient(135deg, rgb(30 65 190 / 97%) 0%, rgb(255 59 92 / 97%) 50%, rgb(30 65 190 / 97%) 100%);

    // Override primary colors with glowing versions for dark theme
    --md-sys-color-primary: #{$dark-navy-glow};
    --md-sys-color-secondary: #{$dark-red-glow};
    --md-sys-color-tertiary: #{$dark-gold-glow};
    --md-sys-color-on-primary: #001022;

    // Shared background gradients for core components
    --sidebar-gradient: var(--vibrant-header-gradient);
    --dashboard-gradient: linear-gradient(135deg, rgb(30 65 190 / 20%) 0%, rgb(255 59 92 / 20%) 100%);
  }

  // Vibrant theme (named) - ensure on-primary token exists for runtime
  .vibrant-theme,
  [data-theme="vibrant"] {
    --vibrant-header-gradient: linear-gradient(135deg, #001e60 0%, #0046cc 30%, #c80028 70%, #b3002a 100%);
    --vibrant-menu-gradient: linear-gradient(135deg, rgb(4 0 252 / 70%) 0%, rgb(228 0 50 / 70%) 50%, rgb(4 0 252 / 70%) 100%);
    --md-sys-color-primary: #{$vibrant-navy};
    --md-sys-color-secondary: #{$vibrant-red};
    --md-sys-color-tertiary: #{$vibrant-gold};
    --md-sys-color-on-primary: #fff;
    --sidebar-gradient: var(--vibrant-header-gradient);
    --dashboard-gradient: linear-gradient(135deg, rgb(0 51 160 / 15%) 0%, rgb(228 0 50 / 15%) 100%);
  }

  // Apply vibrant gradients to specific components
  .header-card,
  .enhanced-panel {
    background: var(--vibrant-header-gradient) !important;
  }

  .sidebar {
    background: var(--sidebar-gradient) !important;
  }

  .main-stage {
    background: var(--dashboard-gradient) !important;
    color: var(--md-sys-color-on-surface) !important;

    // Ensure main-stage has flex layout for its content
    display: flex;
    flex-direction: column;
  }

  // Ensure the router content wrapper inside main-stage is visible
  .main-stage .router-content-wrapper {
    display: block !important;
    flex: 1;
    overflow-y: auto;
    width: 100%;
  }

  ::ng-deep .patriotic-menu.mat-mdc-menu-panel {
    background: var(--vibrant-menu-gradient) !important;
    border: 2px solid $vibrant-gold !important;
  }

  // Add subtle gold accents to interactive elements
  .mat-mdc-button.mat-primary {
    background-color: var(--md-sys-color-primary) !important;
    border-bottom: 2px solid $vibrant-gold;
    color: var(--md-sys-color-on-primary) !important;
  }

  .menu-item.mdc-button--raised,
  .menu-item.mat-mdc-raised-button {
    background-color: var(--md-sys-color-primary) !important;
    border-bottom: 2px solid $vibrant-gold;
    color: var(--md-sys-color-on-primary) !important;
  }

  .menu-item {
    color: var(--md-sys-color-on-primary) !important;
  }

  .menu-item,
  .menu-item * {
    color: var(--md-sys-color-on-primary) !important;
  }

  /* Ensure vibrant-theme body receives the same menu rules when theme-class is present */
  .vibrant-theme .menu-item.mdc-button--raised,
  .vibrant-theme .menu-item.mat-mdc-raised-button,
  .vibrant-theme .menu-item {
    background-color: var(--md-sys-color-primary) !important;
    border-bottom: 2px solid $vibrant-gold;
    color: var(--md-sys-color-on-primary) !important;
  }

  /* Temporary authoritative override removed: rely on emitted MD3 tokens for vibrant theme */

  /* Very specific selector for material-raised menu buttons (matches live DOM classes) */
  .menu-item.mat-mdc-raised-button.mat-unthemed.mat-mdc-button-base,
  .menu-item.mat-mdc-button-base.mat-unthemed {
    background-color: var(--md-sys-color-primary) !important;
    border-bottom: 2px solid $vibrant-gold;
    color: var(--md-sys-color-on-primary) !important;
  }

  // Star field gets more vibrant
  .star-field {
    background-color: $vibrant-navy;

    &::before {
      color: $vibrant-gold;
      text-shadow: 0 0 10px rgb(255 204 1 / 80%);
    }
  }

  // Vibrant app title with enhanced shimmer
  .app-title {
    background: linear-gradient(90deg, $pure-white, $vibrant-gold);
    background-clip: text;
    color: transparent;
    text-shadow: 0 0 20px rgb(255 204 1 / 60%);
  }

  // Text utility classes get more vibrant
  .text-primary {
    color: var(--md-sys-color-primary);
    font-weight: 500;
  }

  .text-secondary {
    color: var(--md-sys-color-secondary);
    font-weight: 500;
  }

  // Make patriotic text more vibrant
  .text-patriotic {
    background: linear-gradient(90deg, $vibrant-navy, $vibrant-red);
    background-clip: text;
    color: transparent;
    font-weight: bold;
  }
}
