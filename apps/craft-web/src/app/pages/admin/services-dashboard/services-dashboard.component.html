<div class="dashboard-container">
  <section class="tile-row">
    <article class="stat-card active">
      <div class="stat-label">Active Services</div>
      <div class="stat-number">{{ activeServicesCount }}</div>
      <div class="stat-meta">Total responded in this window</div>
    </article>
    <article class="stat-card error">
      <div class="stat-label">Error Services</div>
      <div class="stat-number">{{ errorServicesCount }}</div>
      <div class="stat-meta">Ongoing recovery needed</div>
    </article>
    <article class="stat-card inactive">
      <div class="stat-label">Inactive Services</div>
      <div class="stat-number">{{ inactiveServicesCount }}</div>
      <div class="stat-meta">Staged for restart</div>
    </article>
    <article class="stat-card watch">
      <div class="stat-label">Monitoring</div>
      <div class="stat-number">Live</div>
      <div class="stat-meta">{{ coreServices.length + featureServices.length + thirdPartyServices.length }} tracked</div>
    </article>
  </section>

  <section class="chart-section">
    <div class="chart-card">
      <header>
        <h3>Service Metrics</h3>
        <p>Avg response times per service</p>
      </header>
      <div class="chart-area">
        <canvas #serviceMetricsCanvas></canvas>
      </div>
    </div>
  </section>

  <section class="service-section" *ngFor="let group of groupedServices">
    <header class="service-section-heading">
      <div>
        <h3>{{ group.title }}</h3>
        <p>{{ group.description }}</p>
      </div>
      <span class="status-pill" [ngClass]="group.pillClass">{{ group.pillText }}</span>
    </header>
    <div class="service-grid">
      <article class="service-card" *ngFor="let service of group.services">
        <div class="service-top">
          <h4>{{ service.name }}</h4>
          <span class="badge" [ngClass]="getStatusClass(service.status)">{{ service.status }}</span>
        </div>
        <div class="service-body">
          <div>
            <p class="label">Response</p>
            <p class="value">{{ service.responseTime }} ms</p>
          </div>
          <div>
            <p class="label">Endpoints</p>
            <p class="value">{{ service.endpoints }}</p>
          </div>
          <div>
            <p class="label">Memory</p>
            <p class="value">{{ service.memoryUsage }} MB</p>
          </div>
          <div>
            <p class="label">Last Activity</p>
            <p class="value">{{ formatLastActivity(service.lastActivity) }}</p>
          </div>
        </div>
      </article>
    </div>
  </section>
</div>
