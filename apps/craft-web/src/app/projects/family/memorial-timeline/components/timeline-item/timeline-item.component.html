<mat-card class="timeline-item-card">
  <mat-card-header>
    <div mat-card-avatar class="timeline-avatar">
      <mat-icon>{{ iconName }}</mat-icon>
    </div>
    <mat-card-title class="timeline-item-title">
      <span>{{ event.title }}</span>
      <span *ngIf="typeLabel" class="timeline-type" [ngClass]="'timeline-type--' + event.type">{{ typeLabel }}</span>
    </mat-card-title>
    <mat-card-subtitle class="timeline-item-subtitle">{{ formattedDate }}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <p class="timeline-item-description">
      {{ expanded || !hasLongDescription ? event.description : descriptionPreview }}
    </p>

    <div *ngIf="event.imageUrl" class="timeline-image-container">
      <img [src]="event.imageUrl" [alt]="event.title" class="timeline-image" />
    </div>
  </mat-card-content>

  <mat-card-actions *ngIf="hasLongDescription || event.actionLink" class="timeline-actions">
    <button mat-button *ngIf="hasLongDescription" (click)="toggleExpanded()" [attr.aria-expanded]="expanded">
      <mat-icon>{{ expanded ? 'expand_less' : 'expand_more' }}</mat-icon>
      {{ expanded ? 'Show less' : 'Read more' }}
    </button>
    <a mat-button *ngIf="event.actionLink" [href]="event.actionLink" target="_blank" rel="noopener noreferrer">
      <mat-icon>open_in_new</mat-icon>
      Learn more
    </a>
  </mat-card-actions>
</mat-card>
